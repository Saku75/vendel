{
  "$schema": "node_modules/wrangler/config-schema.json",

  "name": "vendel-api",
  "compatibility_date": "2025-03-13",
  "compatibility_flags": ["nodejs_compat"],

  "workers_dev": false,
  "preview_urls": false,

  "main": "src/main.ts",
  "assets": {
    "directory": "static"
  },

  "observability": {
    "enabled": true
  },

  "d1_databases": [
    {
      "binding": "DB",
      "database_name": "vendel",
      "database_id": "48a4af03-4abd-4864-bd08-8dc73fc4e416",
      "migrations_dir": "src/lib/database/migrations"
    }
  ],

  "env": {
    "dev": {
      "d1_databases": [
        {
          "binding": "DB",
          "database_name": "vendel",
          "database_id": "48a4af03-4abd-4864-bd08-8dc73fc4e416",
          "migrations_dir": "src/lib/database/migrations"
        }
      ],
      "routes": [
        {
          "zone_id": "0c04f1be7449bd42a7e9b38ceaac2d6e",
          "pattern": "api.dev.vendel.dk",
          "custom_domain": true
        },
        {
          "zone_id": "0c04f1be7449bd42a7e9b38ceaac2d6e",
          "pattern": "dev.vendel.dk/api"
        },
        {
          "zone_id": "0c04f1be7449bd42a7e9b38ceaac2d6e",
          "pattern": "dev.vendel.dk/api/*"
        }
      ]
    },
    "prod": {
      "d1_databases": [
        {
          "binding": "DB",
          "database_name": "vendel",
          "database_id": "efb5ea0c-2bec-4c98-b7d6-c7456ccbf723",
          "migrations_dir": "src/lib/database/migrations"
        }
      ],
      "routes": [
        {
          "zone_id": "0c04f1be7449bd42a7e9b38ceaac2d6e",
          "pattern": "api.vendel.dk",
          "custom_domain": true
        },
        {
          "zone_id": "0c04f1be7449bd42a7e9b38ceaac2d6e",
          "pattern": "vendel.dk/api"
        },
        {
          "zone_id": "0c04f1be7449bd42a7e9b38ceaac2d6e",
          "pattern": "vendel.dk/api/*"
        },
        {
          "zone_id": "0c04f1be7449bd42a7e9b38ceaac2d6e",
          "pattern": "www.vendel.dk/api"
        },
        {
          "zone_id": "0c04f1be7449bd42a7e9b38ceaac2d6e",
          "pattern": "www.vendel.dk/api/*"
        }
      ]
    }
  }
}
